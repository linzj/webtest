<body>
<script>
function log(msg) {
  let e = document.createElement('div');
  e.innerText = msg;
  document.body.appendChild(e);
}

function opt(b) {
    let iterator = new Set().values();
    iterator.x = 0;

    let arr = [iterator, iterator];
    if (b)
        return arr.slice();
}

opt(false);
opt(false);
log("start opt");
for(var i = 0; i < 100000; ++i) {
  opt(false);
}
log("end opt");

let res = opt(true);
let a = res[0];
let b = res[1];

log("a===b: " + (a === b) + "; should be true");
a.x = 7;
log("b.x: " + b.x + ", should be 7");
</script>
</body>
