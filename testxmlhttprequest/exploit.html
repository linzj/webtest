<body>
<img id="image">
<div id="msg">
</div>
<script>
/*
(function () {
  var xhr = new XMLHttpRequest();
  xhr.open('GET', 'http://maps.google.com/mapfiles/ms/icons/blue.png');
  xhr.responseType = 'blob';
  xhr.send();
  xhr.onreadystatechange = function () {

    if (this.readyState != 4) {
        return;
    }
    if (this.status != 200) {
        var msgDIV = document.getElementById("msg");
        msgDIV.innerText = "XMLHttpRequest failed with: " + this.status;
        return;
    }
    var url = URL.createObjectURL(this.response);
    var image = document.getElementById("image");
    image.src = url;
  };

})()
*/
(function () {
  async function foo() {
    var response = await fetch('http://maps.google.com/mapfiles/ms/icons/blue.png');
    var url = URL.createObjectURL(await response.blob());
    var image = document.getElementById("image");
    image.src = url;
  }
  foo();
})()
</script>
</body>
